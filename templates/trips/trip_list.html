{% extends 'base.html' %}

{% block title %}여행 목록 - TravelBank{% endblock %}

{% block content %}
<div class="page-header">
    <h1>여행 목록</h1>
    <a href="{% url 'trip_create' %}" class="btn btn-primary">+ 새 여행 등록</a>
</div>

<div class="card">
    {% if trips %}
    <table class="table">
        <thead>
            <tr>
                <th>여행명</th>
                <th>국가/도시</th>
                <th>여행 기간</th>
                <th>관리</th>
            </tr>
        </thead>
        <tbody>
            {% for trip in trips %}
            <tr>
                <td><a href="{% url 'trip_detail' trip.pk %}">{{ trip.name }}</a></td>
                <td>{{ trip.country }}{% if trip.city %}, {{ trip.city }}{% endif %}</td>
                <td>{{ trip.start_date|date:"Y-m-d" }} ~ {% if trip.end_date %}{{ trip.end_date|date:"Y-m-d" }}{% else %}진행중{% endif %}</td>
                <td>
                    <a href="{% url 'trip_update' trip.pk %}" class="btn btn-secondary">수정</a>
                    <a href="{% url 'trip_delete' trip.pk %}" class="btn btn-danger">삭제</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>등록된 여행이 없습니다. 새 여행을 등록해주세요.</p>
    {% endif %}
</div>
{% endblock %}
